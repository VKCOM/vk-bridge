var e=["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGeodata","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppResizeWindow","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites"],o=[],n=null,t="undefined"!=typeof window,p=t&&window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.VKWebAppClose,i=t?window.AndroidBridge:void 0,s=p?window.webkit.messageHandlers:void 0,r=t&&!i&&!s,a=r?"message":"VKWebAppEvent";t&&(window.CustomEvent||(window.CustomEvent=function(){function e(e,o){var n=o||{bubbles:!1,cancelable:!1,detail:void 0},t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),t}return e.prototype=Event.prototype,e}()),window.addEventListener(a,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var p=[].concat(o);if(r&&e[0]&&"data"in e[0]){var i=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&-1===o.indexOf(t)&&(n[t]=e[t]);return n}(e[0].data,["webFrameId","connectVersion"]);i.type&&"VKWebAppSettings"===i.type?n=i.frameId:p.forEach(function(e){e({detail:i})})}else p.forEach(function(o){o.apply(null,e)})}));var d,b={send:function(e,o){void 0===o&&(o={}),i&&"function"==typeof i[e]&&i[e](JSON.stringify(o)),s&&s[e]&&"function"==typeof s[e].postMessage&&s[e].postMessage(o),r&&parent.postMessage({handler:e,params:o,type:"vk-connect",webFrameId:n,connectVersion:"1.5.5"},"*")},subscribe:function(e){o.push(e)},unsubscribe:function(e){var n=o.indexOf(e);n>-1&&o.splice(n,1)},isWebView:function(){return!(!i&&!s)},supports:function(o){return!(!i||"function"!=typeof i[o])||!(!s||!s[o]||"function"!=typeof s[o].postMessage)||!(s||i||!e.includes(o))}};"object"==typeof exports&&"undefined"!=typeof module||((d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0).vkConnect=b,d.vkuiConnect=b),module.exports=b;
